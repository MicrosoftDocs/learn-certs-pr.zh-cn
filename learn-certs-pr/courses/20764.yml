### YamlMime:Course
title: Administering a SQL Database Infrastructure
metadata:
  title: 'Course 20764-C: Administering a SQL Database Infrastructure'
  description: 'Course 20764-C: Administering a SQL Database Infrastructure'
uid: course.20764
courseNumber: '20764-C'
hoursToComplete: 120
iconUrl: /media/learn/certification/course.svg
skillsGained:
- skill: 验证和授权用户
- skill: 指派服务器和数据库角色
- skill: 授权用户存取资源
- skill: 使用加密和稽核保护数据
- skill: 描述复原模型和备份策略
- skill: 备份 SQL Server 数据库
- skill: 还原 SQL Server 数据库
- skill: 自动化数据库管理
- skill: 配置 SQL Server agent 安全性
- skill: 管理警示和通知
- skill: 使用 PowerShell 管理 SQL Server
- skill: 追踪存取 SQL Server
- skill: 监视 SQL Server 基础结构
- skill: 对 SQL Server 基础结构进行故障排除
- skill: 汇入和导出数据
learningPartnersLink: /learn/certifications/partners
locales:
- en
levels:
- advanced
roles:
- database-administrator
products:
- sql-server
exams:
- uid: exam.70-764
summary: |-
  这个为期五天的教师指导课程为管理和维护 SQL Server 数据库的学生提供管理 SQL Server 数据库基础结构的知识和技能。此外，将对开发可从 SQL Server 数据库提供内容的应用程序的个人有用。

  #### 受众概况
  本课程的主要对象是管理和维护 SQL Server 数据库的人员。这些个人将数据库管理和维护作为他们的主要职责范围，或者在数据库于其主要工作中扮演关键角色的环境中工作。

  本课程的次要对象是开发可从 SQL Server 数据库提供内容的应用程序的个人。
prerequisitesSection: |-
  除专业经验外，参加此训练的学生应该已经有
  以下技术知识&#58;
  - Microsoft Windows 操作系统及其核心功能的基本知识。
  - Transact-SQL 的工作知识。
  - 关系型数据库如何工作的知识。
  - 有一些数据库设计经验。
outlineSection: |-
  ### 模块 1&#58; SQL Server 安全性
  保护 Microsoft SQL Server 数据库中的数据是必要的，并且要求对问题和 SQL Server 安全性功能有工作知识。

  本模块描述 SQL Server 安全性模型，登入，用户，部分内含数据库以及跨服务器授权。

  #### 课程
  - 验证与 SQL Server 的连接性
  - 授权登入连接到数据库
  - 跨服务器授权
  - 部分内含数据库


  #### 实验&#58; 验证使用者
  - 建立登入
  - 建立数据库用户
  - 更正应用程序登入问题
  - 配置还原数据库的安全性

  完成本模块后，您将能够&#58; 
  - SQL Server 基本概念。
  - SQL Server 连接验证。
  - 用户登入数据库的权限。
  - 部分内含数据库。 
  - 跨服务器授权。


  ### 实验 2&#58; 指派服务器和数据库角色
  使用角色可简化用户权力的管理。使用角色，您可以根据每个用户的作业功能来控制已验证的的用户存取系统资源，而不是逐一按使用者指派权限，而是可以将权限授予给角色，然后使使用者成为角色的成员。
  Microsoft SQL Server 包括对在服务器等级和数据库等级定义的安全性角色的支持。
  #### 课程
  - 使用服务器角色
  - 使用固定数据库角色
  - 指派用户定义的数据库角色


  #### 实验 &#58; 指派服务器和数据库角色
  - 指派数据库角色
  - 指派固定数据库角色
  - 指派用户定义的数据库角色
  - 验证安全性

  完成本模块后，您将能够&#58; 
  - 描述和使用服务器角色来管理服务器等级的安全性。
  - 描述和使用固定的数据库角色。
  - 使用自定义数据库角色和应用程序角色来管理服务器等级的安全性。


  ### 模块 3&#58; 授权用户存取资源
  在前面的模块中，您已经了解如何使用固定服务器角色，使用者定义的服务器角色，固定数据库角色和应用程序角色来组织 Microsoft SQL Server 安全性以及如何在服务器和数据库等级指派权限集合。授权用户存取 SQL Server 资源的最后一步是授权用户和角色存取服务器和数据库对象。

  在本模块中，您将看到如何管理这些对象权限。除了对数据库对象的访问权限外，SQL Server 提供确定允许哪些使用者执行程序代码（例如储存程序和函数）的能力。在许多案例中，这些权限以及对数据库对象的权限最好在架构等级而不是在个别对象等级配置。基于架构的权限授予可以简化您的安全性架构。您将在本模块的最后一课中探索架构等级的权限授予。
  #### 课程
  - 授权用户存取物件
  - 授权用户执行程序代码
  - 在架构等级配置权限


  #### 实验&#58; 授权用户存取资源
  - 授予、拒绝和撤销对象的权限
  - 授予程序代码执行权限
  - 在架构等级授予权限

  完成本模块后，您将能够&#58; 
  - 授权用户存取物件。
  - 授权用户执行程序代码。
  - 在架构等级配置权限。


  ### 模块 4&#58; 通过加密和稽核保护数据
  为 Microsoft SQL Server 系统配置安全性时，您应确保满足组织对数据保护的任何合规性要求。组织通常需要依循产业特定的合规性原则，要求对所有数据存取进行稽核。为了满足此要求，SQL Server 提供一系列用于实施稽核的选项。

  另一个常见的合规性要求是对数据进行加密，以防止在对数据库档案的存取受到泄漏的情况下防止未经授权的存取。SQL Server 通过提供透明数据加密（TDE）来支持此要求。为了降低具有管理存取数据库权限的用户泄漏信息的风险，可以使用 Always Encrypted 功能对包含敏感数据（例如信用卡卡号或国家身份证号）的资料行进行加密。

  本模块描述在 SQL Server 中进行稽核的可用选项，如何使用和管理 SQL Server 稽核功能以及如何实施加密。
  #### 课程
  - 在 SQL Server 中稽核数据存取的选项
  - 实施 SQL Server 稽核
  - 管理 SQL Server 稽核
  - 使用加密保护数据


  #### 实验&#58; 使用稽核和加密
  - 使用 SQL Server 稽核
  - 加密列为 Always Encrypted
  - 使用 TDE 加密数据库

  完成本模块后，您将能够&#58; 
  - 描述稽核数据存取的选项。
  - 实施 SQL Server 稽核。
  - 管理 SQL Server 稽核。
  - 描述和实施在 SQL Server 中加密数据的方法。
  - 实施加密


  ### 模块 5&#58; 复原模型和备份策略
  数据库管理员角色最重要的方面之一是确保可靠地备份集织数据，以便在发生故障时可以复原数据。尽管计算机产业几十年来一直知道需要可靠的备份策略，并且对此进行详尽的讨论，但有关数据外泄的不幸情况仍然很普遍。另一个问题是，即使已制定的策略按设计原样工作，结果仍然经常无法满足组织的营运需求。

  在本模块中，根据可用的备份模型以及交易纪录文件在维护数据库一致性中的角色，您将考虑如何建立与组织需求相一致的策略。
  #### 课程
  - 了解备份策略
  - SQL Server 事务历史记录档
  - 规划备份策略


  #### 实验&#58; 了解 SQL Server 复原模型
  - 规划备份策略
  - 配置数据库复原模型

  完成本模块后，您将能够&#58; 
  - 描述各种备份策略。
  - 描述数据库事务历史记录文件的功能。
  - 规划 SQL Server 备份策略。


  ### 模块 6&#58; 备份 SQL Server 数据库
  在上一个模块中，您学习如何规划 SQL Server 系统的备份策略。现在，您可以学习如何执行 SQL Server 备份，包括完整和差异数据库备份，事务历史记录文件备份和部分备份。

  在本模块中，您将学习如何套用各种备份策略。
  #### 课程
  - 备份数据库和事务历史记录文件
  - 管理数据库备份
  - 高级数据库选项


  #### 实验&#58; 备份数据库
  - 备份数据库
  - 执行数据库，差异和事务历史记录文件备份
  - 执行部分备份

  完成本模块后，您将能够&#58; 
  - 执行 SQL Server 数据库和事务历史记录文件的备份。
  - 管理数据库备份。
  - 描述高级备份选项。


  ### 模块 7&#58; 还原 SQL Server 2016 数据库
  在上一个模块中，您学习如何建立 Microsoft SQL Server 2016 数据库的备份。备份策略可能涉及许多不同类型的备份，因此您必须有效地还原它们是必要的。

  您经常会在紧急情况下还原数据库。但是，您必须确保对如何继续并将数据库成功还原到所需状态有一个明确的计划。良好的计划和对还原过程的理解可以帮助避免使情况变得更糟。

  某些数据库还原与系统故障有关。在这些案例中，您将需要使系统尽可能接近故障发生前的状态。尽管，某些故障与人为错误有关，且您可能希望将系统复原到该错误之前的恢复点。SQL Server 2016 的时点恢复功能可以帮助您达成这一目标。

  由于用户数据库通常更大量，因此用户数据库比系统数据库更容易受到系统故障的影响。但是，系统数据库可能会受到故障的影响，因此在复原时应格外小心。特别是，您需要了解如何复原每个系统数据库，因为您不能对所有系统数据库使用相同的流程。

  在本模块中，您将看到如何还原用户数据库和系统数据库以及如何实施还原时间点。

  #### 课程
  - 了解还原程序
  - 还原数据库
  - 高级还原案例
  - 时点恢复


  #### 实验 &#58; 还原 SQL Server 数据库
  - 还原数据库备份
  - 还原数据库，差异和事务历史记录文件备份
  - 执行零碎还原

  完成本模块后，您将能够&#58; 
  - 说明还原程序。
  - 还原数据库。
  - 执行高级还原操作。
  - 执行还原时间点。


  ### 模块 8&#58; 自动化 SQL Server 管理
  与其他一些数据库引擎相比，Microsoft SQL Server 提供的工具使管理变得容易。但是，即使工作易于执行时，通常也必须多次重复执行工作。高效率数据库管理员学习动化重复的工作。这可以帮助避免管理员忘记在要求的时间执行工作的情况。也许更重要的是，工作的自动化有助于确保每次执行时都执行一致。

  本模块描述如何使用 SQL Server Agent 自动化作业，如何为作业配置安全性环境以及如何实施多服务器作业。
  #### 课程
  - 自动化 SQL Server 管理
  - 使用 SQL Server Agent
  - 管理 SQL Server Agent 作业
  - 多服务器管理


  #### 实验 &#58; 自动化 SQL Server 管理
  - 建立 SQL Server Agent 作业
  - 测试作业
  - 排程作业
  - 配置主服务器和目标服务器

  完成本模块后，您将能够&#58; 
  - 描述自动化 SQL Server 管理的方法。
  - 配置作业，作业步骤类型和排程。
  - 管理 SQL Server Agent 作业。
  - 配置主服务器和目标服务器。


  ### 模块 9&#58; 配置 SQL Server Agent 安全性
  本课程中的其他模块已经示范需要遵循“最低权限”原则来最小化授予使用者的权限。这意味着使用者仅具有执行工作所需的权限。相同的逻辑套用于向 SQL Server Agent 授予权限。尽管很容易在 SQL Server Agent 服务账户的内容中执行所有作业，并很容易将该账户配置为管理账户，但是这样做会导致安全性较差。了解如何为在 SQL Server Agent 中执行的作业建立最低权限安全环境是非常重要。
  #### 课程
  - 了解 SQL Server Agent 安全性
  - 配置认证
  - 配置Proxy 账户


  #### 实验&#58; 配置 SQL Server Agent 安全性
  - 分析 SQL Server Agent 的问题
  - 配置认证
  - 配置 Proxy 账户
  - 配置和测试作业的安全性环境

  完成本模块后，您将能够&#58; 
  - 说明 SQL Server Agent 的安全性。
  - 配置认证。
  - 配置 Proxy 账户。


  ### 模块 10&#58; 使用警示和通知监视 SQL Server
  以主动方式管理 Microsoft SQL Server 的一个关键方面是确保您知道发生在服务器中的问题和事件的发生情况。SQL Server 记录大量有关问题的信息。您可以配置以通过使用警示和通知在出现这些问题时自动为您提供建议。SQL Server 数据库管理员接收感兴趣事件的详细数据的最常见方式是通过电子邮件讯息。此模块涵盖 SQL Server 实例的数据库邮件、警示和通知的配置，以及 Microsoft Azure SQL 数据库的警示配置。

  #### 课程
  - 监视 SQL Server 错误
  - 配置数据库邮件
  - 操作人员，警示和通知
  - Azure SQL 数据库中的警示


  #### 实验&#58; 使用警示和通知监视 SQL Server
  - 配置数据库邮件
  - 配置操作人员
  - 配置警示和通知
  - 测试警示和通知

  完成本模块后，您将能够&#58; 
  - 监视 SQL Server 错误。
  - 配置数据库邮件。
  - 配置操作人员、警示和通知。
  - 使用 Azure SQL 数据库中的警示


  ### 模块 11&#58; 简介使用 PowerShell 管理SQL Server
  本模块介绍如何将 Windows PowerShell 与 Microsoft SQL Server 一起使用。企业不断需要提高维护 IT 基础结构的效率和可靠性。使用 PowerShell，您可以通过建立脚本本来执行工作来提高效率和可靠性。可以对 PowerShell 脚本进行测试并将其多次套用于多个服务器，从而为您的组织节省时间和金钱。
  #### 课程
  - Windows PowerShell 入门
  - 使用 PowerShell 配置 SQL Server
  - 使用 PowerShell 管理和维护 SQL Server
  - 使用 PowerShell 管理 Azure SQL 数据库


  #### 实验&#58; 使用 PowerShell 管理SQL Server
  - PowerShell 入门
  - 使用 PowerShell 变更 SQL Server 配置

  完成本模块后，您将能够&#58; 
  - 描述 PowerShell 的好处及其基本概念。 
  - 使用 PowerShell 配置 SQL Server。
  - 使用 PowerShell 管理和维护 SQL Server。
  - 使用 PowerShell 管理 Azure SQL 数据库。


  ### 模块 12&#58; 使用扩展事件追踪存取 SQL Server
  监视效能计量提供一种评估数据库解决方案整体效能的好方法。但是，有时您需要对 Microsoft SQL Server 实例中发生的活动进行更详细的分析，以对问题进行故障排除并识别最佳化工作负载效能的方法。

  Server 扩展事件是建置于 Microsoft SQL Server 数据库引擎中的的弹性，轻量的事件处理系统。本模块侧重于架构概念，对策略和扩展事件的使用场景进行故障排除。


  #### 课程
  - 扩展事件核心概念
  - 使用扩展事件


  #### 实验&#58; 扩展事件
  - 使用 System_Health 扩展事件会话
  - 使用扩展事件追踪页面分割

  完成本模块后，您将能够&#58; 
  - 描述扩展事件核心概念
  - 建立和查询扩展事件会话。


  ### 模块 13&#58; 监视 SQL Server
  Microsoft SQL Server 数据库引擎可以长时间执行，而无需管理上的关注。但是，如果您定期监视数据库服务器上发生的活动，则可以在潜在问题发生之前对其进行处理。
  SQL Server 提供许多工具，您可用于监视目前活动和记录先前活动的详细信息。您需要熟悉每种工具的功能以及如何使用。
  监视工具可以提供大量的输出会很容易爆满，因此您还需要学习分析其输出的技术。
  #### 课程
  - 监视活动
  - 撷取和管理效能数据
  - 分析收集的效能资料
  - SQL Server 实用程序


  #### 实验&#58; 监视 SQL Server
  完成本模块后，您将能够&#58; 
  - 监视目前活动。
  - 撷取和管理效能数据。
  - 分析收集的效能资料。
  - 配置 SQL Server 实用程序。


  ### 模块 14&#58; 对 SQL Server 进行故障排除
  当出现问题时，使用 Microsoft SQL Server 的数据库管理员需要发挥故障排除者的重要角色，尤其是阻止依赖 SQL Server 数据库的商务关键应用程序的用户工作。重要的是要有一个解决一般问题的可靠方法，并熟悉使用 SQL Server 系统时可能出现的最常见问题。

  #### 课程
  - SQL Server 故障排除方法
  - 解决服务相关问题
  - 解决连接性和登入问题


  #### 实验&#58; 对常见问题进行故障排除
  - 排查和解决 SQL 登入问题
  - 排查和解决服务问题
  - 排查和解决 Windows 登入问题
  - 排查和解决作业执行问题
  - 排查和解决效能问题

  完成本模块后，您将能够&#58; 
  - 描述 SQL Server 故障排查方法
  - 解决服务相关问题。
  - 解决登入和连接性问题。


  ### 模块 15&#58; 汇入和导出数据
  尽管驻留在 Microsoft SQL Server 系统中的大量数据是由执行应用程序的用户直接输入的，但通常需要将数据移入其他位置和移出 SQL Server。

  SQL Server 提供一组可用于传入和转出数据的工具。其中一些工具，例如 bcp（大容量复制程序）实用程序和 SQL Server 整合服务，在数据库引擎外部。其他工具，例如 BULK INSERT 语句和 OPENROWSET 函数，在数据库引擎中实施。使用 SQL Server，您还可以建将所有与用户数据库关联的数据表，检视表和实例对象封装为单一部署单元中的数据层应用程序。

  在本模块中，您将探索这些工具和技术，以便可以在 SQL Server 之间汇入和导出数据。

  #### 课程
  - 将数据转移至和从 SQL Server 传输
  - 汇入和导出数据表数据
  - 使用 bcp 和 BULK INSERT 汇入数据
  - 部署和升级数据层应用程序


  #### 实验&#58; 汇入和导出数据
  - 使用汇入精灵汇入和 Excel 数据
  - 使用 bcp 汇入带分隔符的文本文件
  - 使用 BULK INSERT 汇入带分隔符的文本文件
  - 建立并测试 SSIS 套件以撷取数据
  - 部署数据层应用程序

  完成本模块后，您将能够&#58; 
  - 描述用于传输数据的工具和技术。
  - 汇入和导出数据表数据。
  - 使用 bcp 和 BULK INSERT 汇入数据。
  - 使用数据层应用程序来汇入和导出数据库应用程序。

